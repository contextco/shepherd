<div class="flex h-full">
  <div class="w-96 border-r min-h-full p-4 flex flex-col gap-4">
    <div class="flex w-full justify-between">
      <div class="flex flex-col">
        <span class="text-xs sm:text-sm text-stone-400 font-medium">Application</span>
        <div class="flex gap-2 items-center sm:text-2xl">
          <span class="font-medium w-fit"><%= @app.name %></span>
        </div>
      </div>

      <div class="flex flex-col justify-center">
        <div class="flex gap-2 items-center">

          <%= link_to new_project_version_path(@app), class: 'px-2 py-1 text-sm flex gap-1 items-center rounded-md hover:bg-stone-100 duration-200' do %>
            <%= heroicon 'plus', variant: :outline, class: 'size-4' %>
            New Version
          <% end %>
          <%= link_to edit_project_path(@app), class: 'p-2' do %>
            <%= heroicon 'cog', variant: :outline, class: 'size-5' %>
          <% end %>
        </div>
      </div>
    </div>

    <div class="versions">
      <% @app.project_versions.order(created_at: :desc).each do |version| %>
        <%= link_to version_path(version), class: "version p-2 bg-stone-100 flex flex-col gap-2 rounded-md" do %>
          <div class="flex justify-between item">
            <div  class="font-semibold">
              <%= version.version %>
            </div>
            <div class="text-sm text-stone-600">
              <%= version.created_at.to_formatted_s(:short) %>
            </div>
          </div>

          <div class="flex gap-4 items-center text-sm">
            <%= version.services.count %> service
          </div>
        <% end %>
      <% end %>
    </div>

  </div>

  <div class="h-full w-full flex flex-col gap-10 sm:px-20 px-8 py-8 max-w-6xl mx-auto">
    <%= yield %>
  </div>
</div>
