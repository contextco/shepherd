<%= render layout: 'layouts/project' do %>
  <div class="flex flex-col gap-4">
    <div class="flex w-full justify-between items-center">
      <div class="flex flex-col">
        <span class="text-xs sm:text-sm text-stone-400 font-medium">Version</span>
        <div class="flex gap-2 items-center sm:text-2xl">
          <span class="font-medium text-stone-600 w-fit font-mono"><%= @version.version %></span>
        </div>
      </div>

      <div class="flex items-center gap-2">
        <%= render Applications::PublishButtonComponent.new(version: @version) %>

        <%= render Applications::EditVersionComponent.new(version: @version) %>
      </div>
    </div>
  </div>

  <% if @version.published? %>
    <div class="flex flex-col gap-4">
      <%= render CommandSnippetComponent.new(title: "Add Helm repository", snippet: @app.helm_repo.add_repo_command ) %>
      <%= render CommandSnippetComponent.new(title: "Install Chart", snippet: @app.helm_repo.install_chart_command(service: @version.services.first) ) %>
    </div>
  <% end %>

  <%= render Services::GridComponent.new(project_version: @version) %>
<% end %>
